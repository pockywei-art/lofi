<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‡¹ğŸ‡¼ Taiwan Deep Travel</title>
    <!-- å¼•å…¥ Tailwind CSS CDN ä»¥å¯¦ç¾ç¾ä»£è¨­è¨ˆé¢¨æ ¼ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Noto Sans TC ä¸­æ–‡å­—é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;700&display=swap" rel="stylesheet">
    <!-- å¼•å…¥ Lucide Icons (å–ä»£ Font Awesome) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* è‡ªå®šç¾© Tailwind é…ç½® */
        body {
            font-family: 'Noto Sans TC', sans-serif;
            min-height: 100vh;
            
            /* ä¿®æ­£ç‚ºæ›´æœ‰è¨­è¨ˆæ„Ÿçš„æè³ªèƒŒæ™¯ */
            background-color: #f0f4f8; /* Base Color: Soft grey-blue */
            
            /* çµåˆæ¼¸è®Šè‰²èˆ‡å¾®å¼±çš„é‡è¤‡ç´‹ç† */
            background-image: 
                /* 1. Primary Gradient (æŸ”å’Œçš„é¡è‰²éæ¸¡) */
                linear-gradient(135deg, #f0f4f8 0%, #e0e7f1 100%),
                /* 2. Secondary Pattern (æ¥µå¾®å¼±çš„ç·šæ¢ç´‹ç†ï¼Œæ¨¡æ“¬ç´™å¼µæˆ–å¸ƒæ–™) */
                repeating-linear-gradient(45deg, 
                    rgba(255, 255, 255, 0.03) 0, 
                    rgba(255, 255, 255, 0.03) 1px, 
                    transparent 1px, 
                    transparent 5px
                );
            background-size: 100% 100%, 5px 5px;
        }

        /* æ´»å‹•åç¨±/æ™‚é–“å€å¡Šï¼Œé»æ“Šæ­¤è™•é€£çµè‡³åœ°åœ– */
        .activity-name-time-map {
            cursor: pointer;
            transition: color 0.2s;
            flex-grow: 1;
            /* è®“æ™‚é–“å’Œæ–‡æœ¬å€åŸŸæ°´å¹³å°é½Š */
            display: flex;
            align-items: center;
        }
        
        /* èª¿æ•´æ»‘é¼ æ‡¸åœæ™‚çš„æ–‡å­—é¡è‰² */
        .activity-name-time-map:hover .activity-text-zh {
            color: #4f46e5; /* indigo-600 */
        }

        /* éš±è—éç•¶å‰æ—¥æœŸçš„å…§å®¹ */
        .day-card-container {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        .day-card-container.active {
            display: block;
        }

        /* æ™¯é»ä»‹ç´¹æŒ‰éˆ•æ¨£å¼å„ªåŒ–ï¼Œç¢ºä¿ä¸€è¡Œé¡¯ç¤º */
        .gemini-tip-btn {
            white-space: nowrap; /* å¼·åˆ¶ä¸æ›è¡Œ */
            min-width: fit-content;
            margin-left: 8px; /* èˆ‡ activity-name-time-map ç•™å‡ºé–“éš” */
        }
        
        /* ä¸­è‹±æ–‡å­—é«”å †ç–Šæ¨£å¼ */
        .activity-text-stack {
            line-height: 1.2;
            margin-right: 8px; /* èˆ‡åœ°åœ–åœ–æ¨™ç•™å‡ºé–“éš” */
        }
        .activity-text-en {
            font-size: 0.9em;
            color: #6b7280; /* è¼ƒæ·ºçš„ç°è‰²ï¼Œä½œç‚ºå‰¯æ¨™é¡Œ */
        }

        /* æ–°å¢çš„åˆ†éš”ç·šæ¨£å¼ */
        .section-divider {
            position: relative;
            text-align: center;
            margin: 20px 0;
            color: #9ca3af; /* ç°è‰²æ–‡å­— */
            font-size: 0.85rem;
            font-weight: 600;
        }
        .section-divider::before,
        .section-divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: #e5e7eb; /* æ·ºç°è‰²ç·šæ¢ */
        }
        .section-divider::before {
            left: 0;
        }
        .section-divider::after {
            right: 0;
        }

        /* #Sponsored å°ç« é¢¨æ ¼æ¨™è¨˜ */
        .sponsored-stamp {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 6px;
            background-color: #ef4444; /* Red-500 */
            color: white;
            font-size: 0.75rem;
            font-weight: 700;
            border-radius: 4px;
            transform: rotate(-3deg); /* è¼•å¾®æ—‹è½‰ï¼Œæ¨¡æ“¬å°ç« æ•ˆæœ */
            letter-spacing: 0.5px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-4xl mx-auto">
        <!-- é ‚éƒ¨æ¨™é¡Œå€ -->
        <header class="text-center mb-10">
            <!-- Lofiland Logoï¼šä½¿ç”¨ Lucide Icon å’Œå“ç‰Œåç¨± -->
            <div class="flex justify-center items-center mb-4">
                <i data-lucide="mountain" class="w-8 h-8 text-indigo-600 mr-2"></i> 
                <span class="text-2xl font-bold text-gray-800 tracking-wider">Lofiland</span>
            </div>
            
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 tracking-tight">
                ğŸ‡¹ğŸ‡¼ Taiwan Deep Travel
            </h1>
            <p class="text-gray-500 mt-2">æ„Ÿå—æ–°ä¸–ä»£è¾²å ´ã€é«”é©—ç‰¹è‰²æ™¯é»ã€äº«å—åœ¨åœ°ç¾é£Ÿã€æ¬£è³å±±é–“ç¾æ™¯</p>
        </header>

        <!-- ç¸½è¦½èˆ‡æ—¥æ›†åˆ‡æ› (12/XX æ ¼å¼) -->
        <div class="flex justify-center items-center space-x-2 md:space-x-4 mb-8 overflow-x-auto p-2">
            <div id="calendar-nav" class="flex space-x-2">
                <!-- æ—¥æ›†å°èˆªé …ç›®å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
            </div>
        </div>

        <!-- è¡Œç¨‹å…§å®¹å€ -->
        <main id="schedule-display" class="relative">
            
            <!-- Day 1 (12/15) - è‹—æ — -->
            <div id="day-1" class="day-card-container active">
                <div class="bg-white rounded-[24px] shadow-xl overflow-hidden p-6 md:p-10">
                    
                    <div class="flex items-start justify-between mb-4">
                        <div class="text-4xl font-bold text-gray-800 leading-none">
                            <span class="block text-2xl text-gray-500 font-normal mb-1">Day 01</span>
                            12/15
                        </div>
                        <div class="px-4 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold shadow-md">è‹—æ —</div>
                    </div>
                    
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 border-b pb-4">è‡ªç„¶ç”Ÿæ…‹èˆ‡å…‰å½±é«”é©—</h2>
                    
                    <div class="space-y-4">
                        <!-- Activity 1.1 (è´ŠåŠ©) -->
                        <div class="activity-item" data-location="Lofi Land Rager Tour" id="act-1-1">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">è‡ªç„¶åœˆéŠç¨‹ (æ¢éšªåœ‹åº¦) <span class="sponsored-stamp">#Sponsored</span></span>
                                        <span class="activity-text-en text-sm text-gray-500">Lofi Land Rager Tour</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-1-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-1-1"></div>
                        </div>
                        <!-- Activity 1.2 (èŠ±éœ²è¾²å ´ Check-in - è´ŠåŠ©) -->
                        <div class="activity-item" data-location="Flower Home" id="act-1-2">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">èŠ±éœ²è¾²å ´ (Check-in) <span class="sponsored-stamp">#Sponsored</span></span>
                                        <span class="activity-text-en text-sm text-gray-500">Flower Home</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-1-2" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-1-2"></div>
                        </div>
                        <!-- Activity 1.3 (è´ŠåŠ©) -->
                        <div class="activity-item" data-location="Lofi Land Senscape" id="act-1-3">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">æ™šä¸Š</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">è‡ªç„¶åœˆå¤œé–“å…‰å½±é¤¨ <span class="sponsored-stamp">#Sponsored</span></span>
                                        <span class="activity-text-en text-sm text-gray-500">Lofi Land Senscape</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-1-3" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-1-3"></div>
                        </div>
                    </div>

                    <!-- ACCOMMODATION DAY 1 (ä½å®¿å€å¡Š - è´ŠåŠ©) -->
                    <div class="mt-8 pt-4 border-t-2 border-gray-200 bg-gray-50 p-4 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-indigo-700 mb-3 flex items-center">
                            <i data-lucide="bed" class="w-5 h-5 mr-2"></i> ä»Šæ—¥ä½å®¿ (Accommodation)
                        </h3>
                        <div class="activity-item flex items-center justify-between" data-location="Flower Home" id="acc-1">
                            <div class="activity-name-time-map">
                                <span class="text-sm font-semibold text-orange-500 mr-3">ç•¶æ™š</span>
                                <div class="activity-text-stack flex flex-col items-start">
                                    <span class="activity-text-zh text-lg text-gray-700">èŠ±éœ²è¾²å ´ <span class="sponsored-stamp">#Sponsored</span></span>
                                    <span class="activity-text-en text-sm text-gray-500">Flower Home</span>
                                </div>
                                <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                            </div>
                            <button data-activity-id="acc-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                æ™¯é»ä»‹ç´¹
                            </button>
                        </div>
                        <div class="gemini-tip-area mt-2 p-3 bg-indigo-100 rounded-lg text-sm text-gray-600 hidden" id="tip-acc-1"></div>
                    </div>
                </div>
            </div>
            
            <!-- Day 2 (12/16) - è‹—æ — -->
            <div id="day-2" class="day-card-container">
                <div class="bg-white rounded-[24px] shadow-xl overflow-hidden p-6 md:p-10">
                    <div class="flex items-start justify-between mb-4">
                        <div class="text-4xl font-bold text-gray-800 leading-none">
                            <span class="block text-2xl text-gray-500 font-normal mb-1">Day 02</span>
                            12/16
                        </div>
                        <div class="px-4 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold shadow-md">è‹—æ —</div>
                    </div>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 border-b pb-4">å®¢å®¶æ–‡åŒ–ã€éµé“èˆ‡æº«æ³‰</h2>
                    <div class="space-y-4">
                        <!-- Activity 2.1 -->
                        <div class="activity-item" data-location="Strawberry Picking" id="act-2-1">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸Šåˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">æ¡è‰è“ (å¤§æ¹–)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Strawberry Picking</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-2-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-2-1"></div>
                        </div>
                        <!-- Activity 2.2 -->
                        <div class="activity-item" data-location="Three Generation Hakka Restaurant" id="act-2-2">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸­åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">ä¸‰ä»£å ‚å®¢å®¶æ–™ç†</span>
                                        <span class="activity-text-en text-sm text-gray-500">Three Generation Hakka Restaurant</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-2-2" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-2-2"></div>
                        </div>
                        <!-- Activity 2.3 (è´ŠåŠ©) -->
                        <div class="activity-item" data-location="Rail Bike & Shengsing Station" id="act-2-3">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">éµé“è‡ªè¡Œè»Š & å‹èˆˆè»Šç«™ <span class="sponsored-stamp">#Sponsored</span></span>
                                        <span class="activity-text-en text-sm text-gray-500">Rail Bike & Shengsing Station</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-2-3" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-2-3"></div>
                        </div>
                        <!-- Activity 2.4 (Starbucks) -->
                        <div class="activity-item" data-location="Starbucks Yuanli Rice Field Store" id="act-2-4">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">å‚æ™š</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">æ˜Ÿå·´å…‹ è‹‘è£¡ç¨»é¦™ç‰¹è‰²é–€å¸‚</span>
                                        <span class="activity-text-en text-sm text-gray-500">Starbucks Yuanli Rice Field Store</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-2-4" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-2-4"></div>
                        </div>
                    </div>

                    <!-- ACCOMMODATION DAY 2 (è´ŠåŠ©) -->
                    <div class="mt-8 pt-4 border-t-2 border-gray-200 bg-gray-50 p-4 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-indigo-700 mb-3 flex items-center">
                            <i data-lucide="bed" class="w-5 h-5 mr-2"></i> ä»Šæ—¥ä½å®¿ (Accommodation)
                        </h3>
                        <div class="activity-item flex items-center justify-between" data-location="Shinemood Resort" id="acc-2">
                            <div class="activity-name-time-map">
                                <span class="text-sm font-semibold text-orange-500 mr-3">æ™šä¸Š</span>
                                <div class="activity-text-stack flex flex-col items-start">
                                    <span class="activity-text-zh text-lg text-gray-700">äº«æ²æ™‚å…‰èŠåœ’æ¸¡å‡é…’åº— <span class="sponsored-stamp">#Sponsored</span></span>
                                    <span class="activity-text-en text-sm text-gray-500">Shinemood Resort</span>
                                </div>
                                <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                            </div>
                            <button data-activity-id="acc-2" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                æ™¯é»ä»‹ç´¹
                            </button>
                        </div>
                        <div class="gemini-tip-area mt-2 p-3 bg-indigo-100 rounded-lg text-sm text-gray-600 hidden" id="tip-acc-2"></div>
                    </div>
                </div>
            </div>
            
            <!-- Day 3 (12/17) - å˜‰ç¾© - (åŸ Day 4 å…§å®¹) -->
            <div id="day-3" class="day-card-container">
                <div class="bg-white rounded-[24px] shadow-xl overflow-hidden p-6 md:p-10">
                    <div class="flex items-start justify-between mb-4">
                        <div class="text-4xl font-bold text-gray-800 leading-none">
                            <span class="block text-2xl text-gray-500 font-normal mb-1">Day 03</span>
                            12/17
                        </div>
                        <div class="px-4 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold shadow-md">å˜‰ç¾©</div>
                    </div>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 border-b pb-4">å˜‰ç¾©æ­·å²èˆ‡èŒ¶åœ’å¤œæ™¯</h2>
                    <div class="space-y-4">
                        <!-- Activity 3.1 (åŸ 4.1) -->
                        <div class="activity-item" data-location="Chiayi Showa J18 Historic Site" id="act-3-1">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸Šåˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">æ˜­å’Œåå…« J18 (æ—¥å¼å»ºç¯‰)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Chiayi Showa J18 (Historic Site)</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-3-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-3-1"></div>
                        </div>
                        <!-- Activity 3.2 (åŸ 4.2) -->
                        <div class="activity-item" data-location="Chiayi Turkey Rice" id="act-3-2">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸­åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">å˜‰ç¾©ç«é›è‚‰é£¯ (åˆé¤)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Chiayi Turkey Rice</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-3-2" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-3-2"></div>
                        </div>
                        <!-- Activity 3.3 (åŸ 4.3) -->
                        <div class="activity-item" data-location="Xiding Viewing Deck" id="act-3-3">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">éš™é ‚è§€æ™¯è‡º (æ—¥è½/é›²æµ·)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Xiding Viewing Deck</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-3-3" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-3-3"></div>
                        </div>
                    </div>

                    <!-- ACCOMMODATION DAY 3 (åŸ acc-4) - è´ŠåŠ© -->
                    <div class="mt-8 pt-4 border-t-2 border-gray-200 bg-gray-50 p-4 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-indigo-700 mb-3 flex items-center">
                            <i data-lucide="bed" class="w-5 h-5 mr-2"></i> ä»Šæ—¥ä½å®¿ (Accommodation)
                        </h3>
                        <div class="activity-item flex items-center justify-between" data-location="Long Yun Farm" id="acc-3">
                            <div class="activity-name-time-map">
                                <span class="text-sm font-semibold text-orange-500 mr-3">æ™šä¸Š</span>
                                <div class="activity-text-stack flex flex-col items-start">
                                    <span class="activity-text-zh text-lg text-gray-700">é¾é›²è¾²å ´ (ä½å®¿) <span class="sponsored-stamp">#Sponsored</span></span>
                                    <span class="activity-text-en text-sm text-gray-500">Long Yun Farm</span>
                                </div>
                                <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                            </div>
                            <button data-activity-id="acc-3" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                æ™¯é»ä»‹ç´¹
                            </button>
                        </div>
                        <div class="gemini-tip-area mt-2 p-3 bg-indigo-100 rounded-lg text-sm text-gray-600 hidden" id="tip-acc-3"></div>
                    </div>
                </div>
            </div>

            <!-- Day 4 (12/18) - é˜¿é‡Œå±± - (åŸ Day 5 å…§å®¹) -->
            <div id="day-4" class="day-card-container">
                <div class="bg-white rounded-[24px] shadow-xl overflow-hidden p-6 md:p-10">
                    <div class="flex items-start justify-between mb-4">
                        <div class="text-4xl font-bold text-gray-800 leading-none">
                            <span class="block text-2xl text-gray-500 font-normal mb-1">Day 04</span>
                            12/18
                        </div>
                        <div class="px-4 py-1 bg-green-200 text-green-800 rounded-full text-sm font-semibold shadow-md">é˜¿é‡Œå±±</div>
                    </div>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 border-b pb-4">é˜¿é‡Œå±±æ£®æ—èˆ‡å°ç«è»Š</h2>
                    <div class="space-y-4">
                        <!-- Activity 4.1 (åŸ 5.1) -->
                        <div class="activity-item" data-location="Fenqihu Historic Town" id="act-4-1">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸Šåˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">å¥®èµ·æ¹–è€è¡— (ä¾¿ç•¶)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Fenqihu Historic Town</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-4-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-4-1"></div>
                        </div>
                        <!-- Activity 4.2 (åŸ 5.2) -->
                        <div class="activity-item" data-location="Alishan National Forest Recreation Area" id="act-4-2">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">é˜¿é‡Œå±±åœ‹å®¶å…¬åœ’ (ç¥æœ¨/å°ç«è»Š)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Alishan National Forest Recreation Area</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-4-2" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-4-2"></div>
                        </div>
                    </div>

                    <!-- ACCOMMODATION DAY 4 (åŸ acc-5) - è´ŠåŠ© -->
                    <div class="mt-8 pt-4 border-t-2 border-gray-200 bg-gray-50 p-4 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-indigo-700 mb-3 flex items-center">
                            <i data-lucide="bed" class="w-5 h-5 mr-2"></i> ä»Šæ—¥ä½å®¿ (Accommodation)
                        </h3>
                        <div class="activity-item flex items-center justify-between" data-location="Chiayi Jianan Fanhua Hotel" id="acc-4">
                            <div class="activity-name-time-map">
                                <span class="text-sm font-semibold text-orange-500 mr-3">æ™šä¸Š</span>
                                <div class="activity-text-stack flex flex-col items-start">
                                    <span class="activity-text-zh text-lg text-gray-700">å˜‰æ¥ é¢¨è¯é…’åº— (å˜‰ç¾©å¸‚å€ä½å®¿) <span class="sponsored-stamp">#Sponsored</span></span>
                                    <span class="activity-text-en text-sm text-gray-500">Chiayi Jianan Fanhua Hotel</span>
                                </div>
                                <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                            </div>
                            <button data-activity-id="acc-4" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                æ™¯é»ä»‹ç´¹
                            </button>
                        </div>
                        <div class="gemini-tip-area mt-2 p-3 bg-indigo-100 rounded-lg text-sm text-gray-600 hidden" id="tip-acc-4"></div>
                    </div>
                </div>
            </div>

            <!-- Day 5 (12/19) - å°ä¸­/å½°åŒ– - (åŸ Day 3 å…§å®¹ï¼Œå·²èª¿æ•´é †åº) -->
            <div id="day-5" class="day-card-container">
                <div class="bg-white rounded-[24px] shadow-xl overflow-hidden p-6 md:p-10">
                    <div class="flex items-start justify-between mb-4">
                        <div class="text-4xl font-bold text-gray-800 leading-none">
                            <span class="block text-2xl text-gray-500 font-normal mb-1">Day 05</span>
                            12/19
                        </div>
                        <div class="px-4 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-semibold shadow-md">å°ä¸­/å½°åŒ–</div>
                    </div>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 border-b pb-4">ç¾é£Ÿèˆ‡å¤œå¸‚ç²¾è¯</h2>
                    <div class="space-y-4">
                        
                        <!-- äº¤é€šåˆ†éš”ç·š: å½°åŒ– (å…ˆå»å½°åŒ–ï¼Œå›ç¨‹å†è™•ç†å°ä¸­å¸‚å€æ™¯é») -->
                        <div class="section-divider">å‰å¾€ å½°åŒ– (Changhua)</div>
                        
                        <!-- Activity 5.1 (åŸ 3.2) - è´ŠåŠ© -->
                        <div class="activity-item" data-location="Shuigan Dried Meat Shop Changhua" id="act-5-1">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸­åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">40å¹´è‚‰ä¹¾è€åº—-æ°´æ ¹è¡Œ <span class="sponsored-stamp">#Sponsored</span></span>
                                        <span class="activity-text-en text-sm text-gray-500">Shuigan Dried Meat Shop (Changhua)</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-5-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-5-1"></div>
                        </div>
                        
                        <!-- Activity 5.2 (åŸ 3.3) -->
                        <div class="activity-item" data-location="Chef AndrÃ©'s A-Quan Braised Pork Rice" id="act-5-2">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸­åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">é˜¿æ³‰æ§è‚‰é£¯ & æœ¨ç“œç‰›å¥¶</span>
                                        <span class="activity-text-en text-sm text-gray-500">A-Quan Braised Pork Rice & Papaya Milk</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-5-2" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-5-2"></div>
                        </div>
                        
                        <!-- äº¤é€šåˆ†éš”ç·š: å›å°ä¸­ -->
                        <div class="section-divider">è¿”å› å°ä¸­ (Taichung)</div>
                        
                        <!-- Activity 5.3 (åŸ 3.4) - å®®åŸçœ¼ç§‘ -->
                        <div class="activity-item" data-location="Miyahara Ice Cream Taichung" id="act-5-3">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">å°ä¸­ å®®åŸçœ¼ç§‘ (ç”œé»)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Miyahara Ice Cream (Taichung)</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-5-3" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-5-3"></div>
                        </div>
                        
                        <!-- Activity 5.4 (åŸ 3.1) - å½©è™¹çœ·æ‘ -->
                        <div class="activity-item" data-location="Rainbow Village" id="act-5-4">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">å½©è™¹çœ·æ‘ (æ‹ç…§æ™¯é»)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Rainbow Village</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-5-4" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-5-4"></div>
                        </div>
                        
                        <!-- Activity 5.5 (åŸ 3.5) -->
                        <div class="activity-item" data-location="Feng Chia Night Market" id="act-5-5">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">æ™šä¸Š</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">é€¢ç”²å¤œå¸‚</span>
                                        <span class="activity-text-en text-sm text-gray-500">Feng Chia Night Market</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-5-5" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-5-5"></div>
                        </div>
                    </div>

                    <!-- ACCOMMODATION DAY 5 (åŸ acc-3) -->
                    <div class="mt-8 pt-4 border-t-2 border-gray-200 bg-gray-50 p-4 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-indigo-700 mb-3 flex items-center">
                            <i data-lucide="bed" class="w-5 h-5 mr-2"></i> ä»Šæ—¥ä½å®¿ (Accommodation)
                        </h3>
                        <div class="activity-item flex items-center justify-between" data-location="Feng Chia Night Market Stay" id="acc-5">
                            <div class="activity-name-time-map">
                                <span class="text-sm font-semibold text-orange-500 mr-3">æ™šä¸Š</span>
                                <div class="activity-text-stack flex flex-col items-start">
                                    <span class="activity-text-zh text-lg text-gray-700">é€¢ç”²å¤œå¸‚é™„è¿‘ä½å®¿</span>
                                    <span class="activity-text-en text-sm text-gray-500">Feng Chia Night Market Area Stay</span>
                                </div>
                                <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                            </div>
                            <button data-activity-id="acc-5" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                æ™¯é»ä»‹ç´¹
                            </button>
                        </div>
                        <div class="gemini-tip-area mt-2 p-3 bg-indigo-100 rounded-lg text-sm text-gray-600 hidden" id="tip-acc-5"></div>
                    </div>
                </div>
            </div>

            <!-- Day 6 (12/20) - é¹¿æ¸¯/æ–°ç«¹ - (åŸ Day 6 å…§å®¹) -->
            <div id="day-6" class="day-card-container">
                <div class="bg-white rounded-[24px] shadow-xl overflow-hidden p-6 md:p-10">
                    <div class="flex items-start justify-between mb-4">
                        <div class="text-4xl font-bold text-gray-800 leading-none">
                            <span class="block text-2xl text-gray-500 font-normal mb-1">Day 06</span>
                            12/20
                        </div>
                        <div class="px-4 py-1 bg-red-100 text-red-700 rounded-full text-sm font-semibold shadow-md">é¹¿æ¸¯/æ–°ç«¹</div>
                    </div>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 border-b pb-4">é¹¿æ¸¯å¤é®èˆ‡æ–°ç«¹å¤œå®¿</h2>
                    <div class="space-y-4">
                        <!-- Activity 6.1 (åŸ 6.1) -->
                        <div class="activity-item" data-location="Lukang Tianhou Temple" id="act-6-1">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸Šåˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">é¹¿æ¸¯å¤©åå®® & è€è¡—å°åƒ</span>
                                        <span class="activity-text-en text-sm text-gray-500">Lukang Tianhou Temple</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-6-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-6-1"></div>
                        </div>
                    </div>

                    <!-- ACCOMMODATION DAY 6 (åŸ acc-6) -->
                    <div class="mt-8 pt-4 border-t-2 border-gray-200 bg-gray-50 p-4 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-indigo-700 mb-3 flex items-center">
                            <i data-lucide="bed" class="w-5 h-5 mr-2"></i> ä»Šæ—¥ä½å®¿ (Accommodation)
                        </h3>
                        <div class="activity-item flex items-center justify-between" data-location="Lakeshore Hotel Hsinchu" id="acc-6">
                            <div class="activity-name-time-map">
                                <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ/æ™šä¸Š</span>
                                <div class="activity-text-stack flex flex-col items-start">
                                    <span class="activity-text-zh text-lg text-gray-700">ç…™æ³¢å¤§é£¯åº— æ–°ç«¹æ¹–æ¿±é¤¨</span>
                                    <span class="activity-text-en text-sm text-gray-500">Lakeshore Hotel Hsinchu</span>
                                </div>
                                <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                            </div>
                            <button data-activity-id="acc-6" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                æ™¯é»ä»‹ç´¹
                            </button>
                        </div>
                        <div class="gemini-tip-area mt-2 p-3 bg-indigo-100 rounded-lg text-sm text-gray-600 hidden" id="tip-acc-6"></div>
                    </div>
                </div>
            </div>

            <!-- Day 7 (12/21) - æ–°ç«¹/å°åŒ— -->
            <div id="day-7" class="day-card-container">
                <div class="bg-white rounded-[24px] shadow-xl overflow-hidden p-6 md:p-10">
                    <div class="flex items-start justify-between mb-4">
                        <div class="text-4xl font-bold text-gray-800 leading-none">
                            <span class="block text-2xl text-gray-500 font-normal mb-1">Day 07</span>
                            12/21
                        </div>
                        <div class="px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold shadow-md">æ–°ç«¹/å°åŒ—</div>
                    </div>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 border-b pb-4">æ–°ç«¹ç¾é£Ÿèˆ‡è³¦æ­¸å°åŒ—</h2>
                    <div class="space-y-4">
                        
                        <!-- Activity 7.1 (ä¿®æ”¹: åŸéšå»Ÿè€è¡—) -->
                        <div class="activity-item" data-location="Hsinchu City God Temple Old Street" id="act-7-1">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸Šåˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">åŸéšå»Ÿè€è¡— (åˆé¤)</span>
                                        <span class="activity-text-en text-sm text-gray-500">Hsinchu City God Temple Old Street</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-7-1" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-7-1"></div>
                        </div>
                        
                        <!-- Activity 7.2 (åŸ 7.2) -->
                        <div class="activity-item" data-location="Taipei" id="act-7-2">
                            <div class="flex items-center justify-between">
                                <div class="activity-name-time-map">
                                    <span class="text-sm font-semibold text-orange-500 mr-3">ä¸‹åˆ</span>
                                    <div class="activity-text-stack flex flex-col items-start">
                                        <span class="activity-text-zh text-lg text-gray-700">è¿”å› Taipei</span>
                                        <span class="activity-text-en text-sm text-gray-500">Return to Taipei</span>
                                    </div>
                                    <i data-lucide="map-pin" class="inline w-4 h-4 text-gray-400 ml-2"></i>
                                </div>
                                <button data-activity-id="act-7-2" class="gemini-tip-btn px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full shadow-md hover:bg-indigo-700 transition duration-150">
                                    æ™¯é»ä»‹ç´¹
                                </button>
                            </div>
                            <div class="gemini-tip-area mt-2 p-3 bg-indigo-50 rounded-lg text-sm text-gray-600 hidden" id="tip-act-7-2"></div>
                        </div>

                    </div>

                    <!-- ACCOMMODATION DAY 7 (ç„¡ä½å®¿) -->
                    <div class="mt-8 pt-4 border-t-2 border-gray-200 bg-gray-50 p-4 rounded-xl shadow-inner text-center text-gray-500">
                        <i data-lucide="home" class="w-5 h-5 inline mr-2"></i> ä»Šæ—¥ç„¡ä½å®¿ï¼Œæº–å‚™è¿”å®¶ã€‚
                    </div>
                </div>
            </div>
            
        </main>

        <!-- åº•éƒ¨å°èˆªæŒ‰éˆ• -->
        <div class="flex justify-between items-center mt-8">
            <button id="prev-day" class="flex items-center text-gray-600 hover:text-indigo-600 transition duration-200 disabled:opacity-50">
                <i data-lucide="arrow-left" class="w-5 h-5 mr-2"></i> ä¸Šä¸€å¤©
            </button>
            <div class="text-lg font-bold text-gray-700" id="current-day-label"></div>
            <button id="next-day" class="flex items-center text-gray-600 hover:text-indigo-600 transition duration-200 disabled:opacity-50">
                ä¸‹ä¸€å¤© <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
            </button>
        </div>
        
        <footer class="text-center text-gray-400 mt-16 text-sm">
            <p>&copy; 2025 Lofiland. é»æ“Šè¡Œç¨‹åç¨±å¯æŸ¥çœ‹åœ°åœ–ã€‚</p>
        </footer>
    </div>

    <script>
        // --- Gemini API Configuration & Utilities ---
        const apiKey = ""; // API key is provided at runtime
        const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent";
        const MAX_RETRIES = 5;

        // Utility function for exponential backoff
        async function fetchWithRetry(url, options, retries = 0) {
            try {
                const response = await fetch(url, options);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response;
            } catch (error) {
                if (retries < MAX_RETRIES) {
                    const delay = Math.pow(2, retries) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithRetry(url, options, retries + 1);
                } else {
                    console.error("Gemini API failed after multiple retries:", error);
                    throw new Error("ç„¡æ³•é€£æ¥ Gemini æœå‹™ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
                }
            }
        }

        async function fetchGeminiTip(locationName) {
            // æç¤º LLM æä¾›æ™¯é»ä»‹ç´¹ï¼Œæ›´ç¬¦åˆæ–°çš„æŒ‰éˆ•æ–‡å­—
            const userQuery = `ç‚ºé€™å€‹å°ç£æ™¯é»/ç¾é£Ÿåœ°é»ï¼šã€Œ${locationName}ã€ï¼Œæä¾›ä¸€å€‹ç°¡çŸ­ã€æœ‰å¸å¼•åŠ›çš„æ™¯é»ä»‹ç´¹æˆ–ç‰¹è‰²ä»‹ç´¹ï¼ˆç´„30-50å­—ï¼‰ã€‚é‡é»åœ¨æ–¼æ­·å²ã€æ–‡åŒ–æˆ–ç¨ç‰¹é«”é©—ã€‚`;
            
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }], // å•Ÿç”¨ Google Search é€²è¡Œè³‡è¨Šæ¥åœ°
                systemInstruction: {
                    parts: [{ text: "Act as a friendly, concise travel guide. Provide a short, captivating introduction or interesting feature about the location, focusing on historical, cultural, or unique visitor experiences in Traditional Chinese." }]
                },
            };

            const options = {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            };
            
            const url = apiKey ? `${API_URL}?key=${apiKey}` : API_URL;

            try {
                const response = await fetchWithRetry(url, options);
                const result = await response.json();
                
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Gemini æœå‹™æœªèƒ½ç”Ÿæˆçµæœã€‚";
                
                let sources = [];
                const groundingMetadata = result.candidates?.[0]?.groundingMetadata;
                if (groundingMetadata && groundingMetadata.groundingAttributions) {
                    sources = groundingMetadata.groundingAttributions
                        .map(attribution => ({
                            uri: attribution.web?.uri,
                            title: attribution.web?.title,
                        }))
                        .filter(source => source.uri && source.title);
                }
                
                return { text, sources };

            } catch (error) {
                console.error("Gemini API call failed:", error);
                return { text: error.message || "ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤ã€‚", sources: [] };
            }
        }
        // --- END Gemini API Utilities ---


        document.addEventListener('DOMContentLoaded', () => {
            // åˆå§‹åŒ– Lucide åœ–æ¨™
            lucide.createIcons();

            const totalDays = 7;
            let currentDay = 1;

            const calendarNav = document.getElementById('calendar-nav');
            const prevButton = document.getElementById('prev-day');
            const nextButton = document.getElementById('next-day');
            const currentDayLabel = document.getElementById('current-day-label');

            const dayDates = [
                { day: 1, date: '12/15', label: '15' },
                { day: 2, date: '12/16', label: '16' },
                { day: 3, date: '12/17', label: '17' },
                { day: 4, date: '12/18', label: '18' },
                { day: 5, date: '12/19', label: '19' },
                { day: 6, date: '12/20', label: '20' },
                { day: 7, date: '12/21', label: '21' }
            ];

            // --- å°èˆªèˆ‡é¡¯ç¤ºé‚è¼¯ ---
            
            function updateDisplay() {
                // 1. éš±è—æ‰€æœ‰å¡ç‰‡ï¼Œé¡¯ç¤ºç•¶å‰å¡ç‰‡
                document.querySelectorAll('.day-card-container').forEach(card => {
                    card.classList.remove('active');
                });
                document.getElementById(`day-${currentDay}`).classList.add('active');

                // 2. æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
                prevButton.disabled = currentDay === 1;
                nextButton.disabled = currentDay === totalDays;

                // 3. æ›´æ–°æ—¥æ›†å°èˆªæ¨£å¼
                calendarNav.querySelectorAll('button').forEach(btn => {
                    btn.classList.remove('bg-indigo-600', 'text-white', 'shadow-lg');
                    btn.classList.add('bg-white', 'text-gray-500');
                    if (parseInt(btn.getAttribute('data-day')) === currentDay) {
                        btn.classList.add('bg-indigo-600', 'text-white', 'shadow-lg');
                        btn.classList.remove('bg-white', 'text-gray-500');
                    }
                });

                // 4. æ›´æ–°ä¸­å¤®æ¨™ç±¤
                currentDayLabel.textContent = `Day ${currentDay} of ${totalDays}`;

                // 5. ç¢ºä¿æ–°çš„ Lucide Icons è¢«æ¸²æŸ“ (é‡å°å‹•æ…‹åŠ è¼‰çš„å…§å®¹)
                lucide.createIcons();
            }

            // --- æ—¥æ›†å°èˆªç”Ÿæˆ (12/XX æ ¼å¼) ---
            dayDates.forEach(d => {
                const btn = document.createElement('button');
                btn.className = `w-12 h-12 flex flex-col items-center justify-center rounded-full text-xs font-semibold transition duration-200 border border-gray-200`;
                btn.setAttribute('data-day', d.day);
                // é¡¯ç¤º 12/XX
                btn.innerHTML = `<span class="text-xs font-normal">12/</span><span class="text-base font-bold">${d.label}</span>`; 
                btn.addEventListener('click', () => {
                    currentDay = d.day;
                    updateDisplay();
                });
                calendarNav.appendChild(btn);
            });

            // --- äº‹ä»¶ç›£è½å™¨ï¼šæ™¯é»åœ°åœ–é€£çµ ---
            document.querySelectorAll('.activity-name-time-map').forEach(item => {
                item.addEventListener('click', () => {
                    // å¾æœ€è¿‘çš„çˆ¶å±¤ activity-item ç²å–åœ°é»åç¨±
                    const locationName = item.closest('.activity-item').getAttribute('data-location');
                    if (locationName) {
                        const encodedLocation = encodeURIComponent(locationName + " å°ç£");
                        const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodedLocation}`;
                        window.open(mapUrl, '_blank');
                    }
                });
            });

            // --- äº‹ä»¶ç›£è½å™¨ï¼šGemini æ™¯é»ä»‹ç´¹æŒ‰éˆ• ---
            document.querySelectorAll('.gemini-tip-btn').forEach(button => {
                button.addEventListener('click', async (e) => {
                    const activityId = e.target.getAttribute('data-activity-id');
                    const tipArea = document.getElementById(`tip-${activityId}`);
                    const card = document.getElementById(activityId);
                    const locationName = card.getAttribute('data-location');

                    if (tipArea.classList.contains('hidden')) {
                        // å±•é–‹ä¸¦é–‹å§‹è¼‰å…¥
                        tipArea.classList.remove('hidden');
                        tipArea.innerHTML = `<i data-lucide="loader-circle" class="w-4 h-4 inline animate-spin mr-1"></i> æ­£åœ¨ç‚ºæ‚¨ç”Ÿæˆã€Œ${locationName}ã€çš„æ™¯é»ä»‹ç´¹...`;
                        lucide.createIcons();
                        
                        // å‘¼å« Gemini API
                        const { text, sources } = await fetchGeminiTip(locationName);

                        // æ ¼å¼åŒ–çµæœ
                        let tipHtml = `<p class="font-semibold text-indigo-800">${locationName} æ™¯é»ä»‹ç´¹ï¼š</p>`;
                        tipHtml += `<p class="mt-1">${text}</p>`;

                        if (sources.length > 0) {
                            tipHtml += `<p class="mt-2 text-xs text-gray-400">åƒè€ƒä¾†æºï¼š`;
                            sources.slice(0, 2).forEach((source, index) => {
                                tipHtml += `<a href="${source.uri}" target="_blank" class="hover:underline text-indigo-500">${source.title || 'Source'}</a>${index < sources.length - 1 && index < 1 ? ' | ' : ''}`;
                            });
                            tipHtml += `</p>`;
                        }

                        tipArea.innerHTML = tipHtml;

                    } else {
                        // æ”¶åˆ
                        tipArea.classList.add('hidden');
                        tipArea.innerHTML = '';
                    }
                });
            });

            // --- äº‹ä»¶ç›£è½å™¨ï¼šå°èˆªæŒ‰éˆ• ---
            prevButton.addEventListener('click', () => {
                if (currentDay > 1) {
                    currentDay--;
                    updateDisplay();
                }
            });

            nextButton.addEventListener('click', () => {
                if (currentDay < totalDays) {
                    currentDay++;
                    updateDisplay();
                }
            });

            // é¦–æ¬¡åŠ è¼‰
            updateDisplay();
        });
    </script>
</body>
</html>
